--- fusexmp.c.orig	2005-12-02 01:47:51.000000000 +0100
+++ fusexmp.c	2005-12-02 01:51:26.000000000 +0100
@@ -79,7 +79,12 @@
 {
     int res;
 
-    res = mknod(path, mode, rdev);
+    /* On the Hurd we must not use mknod() to create files, but creat() */
+    if(mode & S_IFREG)
+      res = creat(path, mode & ALLPERMS);
+    else
+      res = mknod(path, mode, rdev);
+
     if(res == -1)
         return -errno;
 
